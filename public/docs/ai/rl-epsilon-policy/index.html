<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="In reinforcement learning, we can&rsquo;t run infinite times to update the whole   \(Q\)  - value table or  \(V\)  - value table, efficient update choices must be made.
Generally thinking, which  \(s\)  or  \((s,a)\)  has more opportunity to get  \(R\)  (high value), should be updated more to converge to the optimal. But stochastic exploring is also required to jump out of sub-optimal.">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="epsilon-Greedy vs epsilon-Soft" />
<meta property="og:description" content="In reinforcement learning, we can&rsquo;t run infinite times to update the whole   \(Q\)  - value table or  \(V\)  - value table, efficient update choices must be made.
Generally thinking, which  \(s\)  or  \((s,a)\)  has more opportunity to get  \(R\)  (high value), should be updated more to converge to the optimal. But stochastic exploring is also required to jump out of sub-optimal." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://vacationwkx.github.io/docs/ai/rl-epsilon-policy/" /><meta property="article:section" content="docs" />
<meta property="article:published_time" content="2020-11-30T11:35:49+08:00" />
<meta property="article:modified_time" content="2021-10-20T00:21:01+08:00" />

<title>epsilon-Greedy vs epsilon-Soft | ç„¡æ¥µ</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.95d69eb6bad8b9707ff2b5d8d9e31ce70a1b84f2ed7ffaf665ffcf00aa7993bd.css" integrity="sha256-ldaetrrYuXB/8rXY2eMc5wobhPLtf/r2Zf/PAKp5k70=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.7bbcf3387737599ae496d8e131ef5cde32bd589e961f31a2784d5b933c790ec5.js" integrity="sha256-e7zzOHc3WZrkltjhMe9c3jK9WJ6WHzGieE1bkzx5DsU=" crossorigin="anonymous"></script>

  <script defer src="/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js" integrity="sha256-b2&#43;Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC&#43;NdcPIvZhzk=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><img src="/favicon.ico" alt="Logo" /><span>ç„¡æ¥µ</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>



  



  
    
  
    
  



<ul class="book-languages">
  <li>
    <input type="checkbox" id="languages" class="toggle" />
    <label for="languages" class="flex justify-between">
      <a role="button" class="flex align-center">
        <img src="/svg/translate.svg" class="book-icon" alt="Languages" />
        English
      </a>
    </label>

    <ul>
      
      <li>
        <a href="https://vacationwkx.github.io/ru/">
          Deutsch
        </a>
      </li>
      
      <li>
        <a href="https://vacationwkx.github.io/zh/">
          Chinese
        </a>
      </li>
      
    </ul>
  </li>
</ul>






  
<ul>
  
  <li>
    <a href="/posts/" >
        Working on ...
      </a>
  </li>
  
</ul>







  



  
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-8bb89e37bc8ac94ed7933c2c15518f8c" class="toggle" checked />
    <label for="section-8bb89e37bc8ac94ed7933c2c15518f8c" class="flex justify-between">
      <a role="button" class="">1. AI</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://vacationwkx.github.io/docs/ai/rl-notes/" class="">Reinforcement Learning Notes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://vacationwkx.github.io/docs/ai/nn-notes/" class="">NNN Learning Notes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://vacationwkx.github.io/docs/ai/rl-epsilon-policy/" class=" active">epsilon-Greedy vs epsilon-Soft</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://vacationwkx.github.io/docs/ai/rl-update-equation/" class="">Value Update Comparison among Basic RL</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://vacationwkx.github.io/docs/ai/rl-comparsion/" class="">Monte Carlo vs TD vs Q-learning</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-010cc3a6dda69f98986133a7094047b7" class="toggle"  />
    <label for="section-010cc3a6dda69f98986133a7094047b7" class="flex justify-between">
      <a role="button" class="">2. Books I Read</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://vacationwkx.github.io/docs/books/simple-europe-history/" class="">The Shortest History of Europe</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://vacationwkx.github.io/docs/books/The-Crowd/" class="">The Crowd - A Study of the Popular Mind</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://vacationwkx.github.io/docs/books/antifragile/" class="">Antigragile</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-d808f8574b076f34757efa25cfa94f05" class="toggle"  />
    <label for="section-d808f8574b076f34757efa25cfa94f05" class="flex justify-between">
      <a role="button" class="">3. Learning Plan</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://vacationwkx.github.io/docs/learn/front-end/" class="">Front End</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://vacationwkx.github.io/docs/learn/AI/" class="">AI</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-2a14d3e9b56ded9a228b0add698b5e2b" class="toggle"  />
    <label for="section-2a14d3e9b56ded9a228b0add698b5e2b" class="flex justify-between">
      <a role="button" class="">4. Diary</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://vacationwkx.github.io/docs/diary_thoughts/Thoughts-In-2019/" class="">Thoughts in 2019</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://vacationwkx.github.io/docs/diary_thoughts/tour2/" class="">2017-12-01(2)-Not a serious Diary</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://vacationwkx.github.io/docs/diary_thoughts/tour/" class="">2017-12-01(1)-Not a serious Diary</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://vacationwkx.github.io/docs/diary_thoughts/CSF/" class="">Der Tod eines Mannen - ChenShifeng</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://vacationwkx.github.io/docs/diary_thoughts/saenger/" class="">Der Saenger</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-9a5dc60c61925a1b6716e156a8b79c04" class="toggle"  />
    <label for="section-9a5dc60c61925a1b6716e156a8b79c04" class="flex justify-between">
      <a role="button" class="">Archived</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://vacationwkx.github.io/docs/achv/ssh-jupyter/" class="">Use Jupiter Notebook by ssh</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://vacationwkx.github.io/docs/achv/rustylake/" class="">Rusty lake - Game Timeline &amp; Secrets</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://vacationwkx.github.io/docs/achv/new-on-hugo/" class="">New on HugoðŸ¤º</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://vacationwkx.github.io/docs/achv/Learn-Jekyll/" class="">Note Learn Jekyll</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://vacationwkx.github.io/docs/achv/GRE/" class="">Personal GRE Summary</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>











  
<ul>
  
  <li>
    <a href="https://github.com/Vacationwkx" target="_blank" rel="noopener">
        Github
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>epsilon-Greedy vs epsilon-Soft</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#epsilon--greedy">epsilon -Greedy</a></li>
    <li><a href="#epsilon---soft">epsilon - Soft</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><p>In reinforcement learning, we can&rsquo;t run infinite times to update the whole 
<link rel="stylesheet" href="/katex/katex.min.css" />
<script defer src="/katex/katex.min.js"></script>
<script defer src="/katex/auto-render.min.js" onload="renderMathInElement(document.body);"></script><span>
  \(Q\)
</span>
 - value table or <span>
  \(V\)
</span>
 - value table, efficient update choices must be made.</p>
<p>Generally thinking, which <span>
  \(s\)
</span>
 or <span>
  \((s,a)\)
</span>
 has more opportunity to get <span>
  \(R\)
</span>
 (high value), should be updated more to converge to the optimal. But stochastic exploring is also required to jump out of sub-optimal. The simple idea to implement is <span>
  \(\epsilon\)
</span>
 -greedy.</p>
<p><strong>Tips:</strong></p>
<p>To generate a list of probability of action set, which sum to 1, we can use Dirichlet distribution, e.g.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">p<span style="color:#f92672">=</span>numpy<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>dirichlet(np<span style="color:#f92672">.</span>ones(n_actions))
</code></pre></div><p>
  <img src="/rl/dirichlet.png" alt="Dirichlet" /></p>
<h1 id="epsilon--greedy">
  epsilon -Greedy
  <a class="anchor" href="#epsilon--greedy">#</a>
</h1>
<span>
  \[\begin{aligned}\max &amp;: p=1-\epsilon&#43;\frac{\epsilon}{|A|}\\ \mathrm{others}&amp;: p=\frac{\epsilon}{|A|}\end{aligned}\]
</span>

<p>i.e, random chose with <span>
  \(\epsilon\)
</span>
 and chose the best with <span>
  \(1-\epsilon\)
</span>
</p>
<p>
  <img src="/rl/e_greedy.png" alt="epsilon-greedy" /></p>
<p>with code</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">p[max_value_index]<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span><span style="color:#f92672">-</span>epsilon
p<span style="color:#f92672">+=</span>epsilon<span style="color:#f92672">/</span>n
</code></pre></div><h1 id="epsilon---soft">
  epsilon - Soft
  <a class="anchor" href="#epsilon---soft">#</a>
</h1>
<p>the only requirement of <span>
  \(\epsilon\)
</span>
  -  Soft is each probability greater than <span>
  \(\epsilon /|A|\)
</span>
, Dirichlet is useful here.</p>
<p>
  <img src="/rl/e_soft.png" alt="epsilon-greedy" /></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">p<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>dirichlet(np<span style="color:#f92672">.</span>ones(n))<span style="color:#f92672">*</span>(<span style="color:#ae81ff">1</span><span style="color:#f92672">-</span>epsilon)
p<span style="color:#f92672">+=</span>epsilon<span style="color:#f92672">/</span>n
</code></pre></div></article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#epsilon--greedy">epsilon -Greedy</a></li>
    <li><a href="#epsilon---soft">epsilon - Soft</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












